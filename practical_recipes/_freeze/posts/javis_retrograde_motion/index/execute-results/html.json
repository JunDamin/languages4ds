{
  "hash": "4a5d208a2b37fae4c01dba27f26fd565",
  "result": {
    "markdown": "---\ntitle: Javis.jl를 사용해서 역행운동을 실행해 보자\ndate: \"2022-02-03\"\ncategories:\n  - retrograde motion\n  - visualization\n  - javis\n  - julia\n---\n\n유튜브를 보는 도중에 행성의 겉보기 역행 운동에 대한 영상을 보았습니다. \n[행성의 역행운동](https://earthsky.org/astronomy-essentials/what-is-retrograde-motion/)이란 지구에서 보기에 행성이 반대방향으로 움직이는 것처럼 보이는 현상입니다.\n행성은 태양을 중심으로 돌고 있지만, 행성 간의 공전 속도의 차이로 뒤로 움직이는 듯이 보이는 현상을 말합니다.\n![retrograde motion](https://earthsky.org/upl/2012/11/retrograde-motion-mars-july200-February2006-Tunc-Tezel.jpg)\n\n행성이 있고 보이는 각이 어떻게 바뀌는지를 시뮬레이션을 해보고자 하는데 줄리아에서 애니메이션을 만들 때 사용할 수 있는 `Javis`를 사용해서 그려보겠습니다.\n\n::: {.cell execution_count=1}\n``` {.julia .cell-code}\nusing Javis\n\nfunction ground(args...) \n    background(\"white\") # canvas background\n    sethue(\"black\") # pen color\nend\nfunction object(p=O, color=\"black\")\nsethue(color)\ncircle(p, 25, :fill)\nreturn p\nend\n\n\nfunction path!(points, pos, color)\nsethue(color)\npush!(points, pos) # add pos to points\ncircle.(points, 2, :fill) # draws a circle for each point using broadcasting\nend\n\n\nfunction connector(p1, p2, color)\nsethue(color)\nline(p1,p2, :stroke)\nend\n\n\nfunction extender(points, p1, p2, r, color)\nsethue(color)\nd = p2 - p1\np3 = getpoint(p2, d, r, O)\nline(p1, p3, :stroke)\ncircle(p3, 2, :fill)\npush!(points, p3)\nif length(points) > 200\npopat!(points, 1)\nend\ncircle.(points, 2, :fill)\nend\n\n\nimport Base.abs\n\n\nfunction abs(p::Point, p0::Point)\nd = p - p0\nr = sqrt(d.x^2 + d.y^2)\nreturn r\nend\n\n\nfunction getpoint(p, d, r, p0)\nλ = 0.001\nrate = 0.001\nnew_p = p\nwhile true\nnew_p = p + λ * d\nif r < abs(new_p, p0)\nbreak\nend\nλ += rate\nend\nreturn new_p\nend\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div style=\"padding: 1em; background-color: #f8d6da; border: 1px solid #f5c6cb; font-weight: bold;\">\n<p>The WebIO Jupyter extension was not detected. See the\n<a href=\"https://juliagizmos.github.io/WebIO.jl/latest/providers/ijulia/\" target=\"_blank\">\n    WebIO Jupyter integration documentation\n</a>\nfor more information.\n</div>\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\ngetpoint (generic function with 1 method)\n```\n:::\n:::\n\n\n::: {.cell execution_count=2}\n``` {.julia .cell-code}\nn = 1000\nmyvideo = Video(2000, 2000)\nBackground(1:n, ground)\npath_of_red = Point[]\npath_of_blue = Point[]\nred_ball = Object(1:n, (args...)->object(O, \"#ff2211\"), Point(100,0))\nact!(red_ball, Action(anim_rotate_around(24π, O)))\nblue_ball = Object(1:n, (args...)->object(O, \"#1122ff\"), Point(200,0))\nact!(blue_ball, Action(anim_rotate_around(7π, O)))\nObject(1:n, (args...)->connector(pos(red_ball), pos(blue_ball), \"black\"))\nObject(1:n, (args...)->path!(path_of_red, pos(red_ball), \"red\"))\nObject(1:n, (args...)->path!(path_of_blue, pos(blue_ball), \"blue\"))\npoints = []\nObject(1:n, (args...)->extender(points, pos(red_ball), pos(blue_ball), 800, \"#112233\"))\n\n\nrender(\nmyvideo;\npathname=\"retrograde_motion.gif\"\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   0%|▏                               |  ETA: 0:15:45\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   2%|▋                               |  ETA: 0:03:42\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   4%|█▏                              |  ETA: 0:02:45\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   5%|█▌                              |  ETA: 0:02:20\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   6%|█▉                              |  ETA: 0:02:06\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   7%|██▍                             |  ETA: 0:01:56\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...   9%|██▊                             |  ETA: 0:01:48\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  10%|███▏                            |  ETA: 0:01:44\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  11%|███▌                            |  ETA: 0:01:44\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  12%|███▊                            |  ETA: 0:01:45\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  13%|████▏                           |  ETA: 0:01:43\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  14%|████▍                           |  ETA: 0:01:42\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  15%|████▊                           |  ETA: 0:01:39\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  16%|█████▏                          |  ETA: 0:01:35\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  18%|█████▋                          |  ETA: 0:01:31\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  19%|██████                          |  ETA: 0:01:30\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  20%|██████▍                         |  ETA: 0:01:27\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  21%|██████▊                         |  ETA: 0:01:26\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  22%|███████▏                        |  ETA: 0:01:24\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  23%|███████▌                        |  ETA: 0:01:22\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  25%|███████▉                        |  ETA: 0:01:20\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  26%|████████▍                       |  ETA: 0:01:17\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  27%|████████▊                       |  ETA: 0:01:15\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  28%|█████████▏                      |  ETA: 0:01:14\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  30%|█████████▌                      |  ETA: 0:01:12\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  31%|██████████                      |  ETA: 0:01:10\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  32%|██████████▎                     |  ETA: 0:01:09\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  33%|██████████▊                     |  ETA: 0:01:07\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  35%|███████████▏                    |  ETA: 0:01:06\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  36%|███████████▌                    |  ETA: 0:01:04\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  37%|███████████▉                    |  ETA: 0:01:04\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  38%|████████████▏                   |  ETA: 0:01:03\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  39%|████████████▌                   |  ETA: 0:01:02\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  40%|████████████▉                   |  ETA: 0:01:00\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  42%|█████████████▍                  |  ETA: 0:00:58\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  43%|█████████████▊                  |  ETA: 0:00:57\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  44%|██████████████                  |  ETA: 0:00:56\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  45%|██████████████▍                 |  ETA: 0:00:55\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  46%|██████████████▉                 |  ETA: 0:00:53\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  48%|███████████████▎                |  ETA: 0:00:52\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  49%|███████████████▋                |  ETA: 0:00:51\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  50%|███████████████▉                |  ETA: 0:00:50\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  51%|████████████████▎               |  ETA: 0:00:49\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  52%|████████████████▌               |  ETA: 0:00:48\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  53%|████████████████▉               |  ETA: 0:00:47\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  54%|█████████████████▏              |  ETA: 0:00:47\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  55%|█████████████████▌              |  ETA: 0:00:46\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  56%|█████████████████▉              |  ETA: 0:00:44\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  57%|██████████████████▎             |  ETA: 0:00:43\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  58%|██████████████████▌             |  ETA: 0:00:43\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  59%|███████████████████             |  ETA: 0:00:41\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  60%|███████████████████▍            |  ETA: 0:00:40\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  62%|███████████████████▋            |  ETA: 0:00:39\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  63%|████████████████████            |  ETA: 0:00:38\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  64%|████████████████████▍           |  ETA: 0:00:37\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  65%|████████████████████▊           |  ETA: 0:00:35\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  66%|█████████████████████▏          |  ETA: 0:00:34\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  67%|█████████████████████▌          |  ETA: 0:00:33\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  68%|█████████████████████▉          |  ETA: 0:00:32\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  69%|██████████████████████▎         |  ETA: 0:00:31\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  71%|██████████████████████▋         |  ETA: 0:00:29\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  72%|███████████████████████         |  ETA: 0:00:28\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  73%|███████████████████████▍        |  ETA: 0:00:27\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  74%|███████████████████████▋        |  ETA: 0:00:26\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  75%|███████████████████████▉        |  ETA: 0:00:25\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  76%|████████████████████████▎       |  ETA: 0:00:24\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  77%|████████████████████████▋       |  ETA: 0:00:23\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  78%|█████████████████████████       |  ETA: 0:00:22\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  79%|█████████████████████████▎      |  ETA: 0:00:21\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  80%|█████████████████████████▋      |  ETA: 0:00:20\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  81%|██████████████████████████      |  ETA: 0:00:19\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  82%|██████████████████████████▍     |  ETA: 0:00:18\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  84%|██████████████████████████▊     |  ETA: 0:00:16\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  85%|███████████████████████████▏    |  ETA: 0:00:15\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  86%|███████████████████████████▌    |  ETA: 0:00:14\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  87%|███████████████████████████▉    |  ETA: 0:00:13\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  88%|████████████████████████████▎   |  ETA: 0:00:11\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  90%|████████████████████████████▋   |  ETA: 0:00:10\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  91%|█████████████████████████████   |  ETA: 0:00:09\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  92%|█████████████████████████████▍  |  ETA: 0:00:08\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  93%|█████████████████████████████▊  |  ETA: 0:00:07\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  94%|██████████████████████████████  |  ETA: 0:00:06\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  95%|██████████████████████████████▍ |  ETA: 0:00:05\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  96%|██████████████████████████████▉ |  ETA: 0:00:04\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  98%|███████████████████████████████▎|  ETA: 0:00:02\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames...  99%|███████████████████████████████▋|  ETA: 0:00:01\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames... 100%|████████████████████████████████|  ETA: 0:00:00\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\rRendering frames... 100%|████████████████████████████████| Time: 0:01:37\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n\"retrograde_motion.gif\"\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}